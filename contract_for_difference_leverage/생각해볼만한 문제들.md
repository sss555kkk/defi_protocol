




==================================================
지금 당장은 아니고 향후에 장기적으로 생각해볼 문제들


문제1:
스왑과 같은 spot 거래가 아니라
CFD 거래는 lp가 아무때나 빼가게 하면 안 된다. 

문제2:
지금은 lp 수수료(fee rate)만 존재한다.
프로토콜 수수료를 받고 싶다면 
reserve manager 내부에 reserve 상태변수를 새롭게 만들어야 하고
인터랙터 들도 baseToken.balanceOf(address(reserveManager))가 아니라
reserveManager.reserve()를 사용해야 한다. 


이제 리팩토링을 계속해서 하다 보니까
깃허브같은 파일관리 프로그램의 필요성이 확실히 느껴진다.


컨트랙이 인스턴스를 반환하면 어떻게 되는가?
받는 입장에서는 그냥 address를 받게 되는가?


l 인터랙터에서 
isValidLiquidationRange() external
_isValidLiquidationRange() internal
이렇게 2개의 함수가 있다. 이름을 변경해보자. 

인터랙터에서 현재는 모든 internal 함수가 추상화수준 1 이다.
추상화 수준 2 인터널 함수를 만들고
모든 external은 추상화 수준 3으로 만들어보자. 

인터랙터가 함수 숫자가 증가하는 것은 자연스러운 일이다. 
늘어난 함수 숫자를 배열하는 순서 원칙을 정해보자. 


